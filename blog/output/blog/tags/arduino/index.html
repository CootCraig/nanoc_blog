<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>
      Coot Craig Blog
      Tag: arduino
    </title>
    <link href='/assets/app.css' rel='stylesheet'>
    <script src='/assets/modernizr.js'></script>
    <script src='/assets/jquery-2.0.3.min.js'></script>
    <script src='/assets/foundation.js'></script>
    <script src='/assets/foundation.topbar.js'></script>
  </head>
  <body>
    <div class='header'>
      <div class='contain-to-grid'>
        <nav class='top-bar'>
          <ul class='title-area'>
            <li class='name'>
              <a href='/'>Coot Craig Blog</a>
            </li>
            <li class='toggle-topbar menu-icon'>
              <a href='#'>
                <span>Menu</span>
              </a>
            </li>
          </ul>
          <section class='top-bar-section'>
            <ul class='left'></ul>
            <ul class='right'>
              <li>
                <a href='/blog/'>Blog</a>
              </li>
              <li>
                <a href='#'>Contact</a>
              </li>
            </ul>
          </section>
        </nav>
      </div>
    </div>
    <div class='row'>
      <div class='twelve columns'>
        <h2>Tag: arduino</h2>
        <div class='row'>
          <div class='small-8 large-10 columns'>
            <h3>
              10 March 2014
              &raquo;
              <a href="/blog/2014/03/arduino-coding-notes/">Arduino Coding Notes</a>
            </h3>
            <h2 id="arduino-coding-notes">Arduino Coding Notes</h2>
            
            <h3 id="serialevent">serialEvent()</h3>
            
            <p><a href="http://arduino.cc/en/Reference/SerialEvent#.Ux3XDB_I0fA">serialEvent()</a></p>
            
            <p>Called when data is available. Use Serial.read() to capture this data.</p>
            
            <p><a href="http://arduino.cc/en/Tutorial/SerialEvent#.Ux3XTB_I0fA">serialEvent Example page</a></p>
            
            <p>Demonstrates use of the SerialEvent() function. SerialEvent() is called
            after a loop(), if there is serial data in the buffer.</p>
            
            <h3 id="string-class">String class</h3>
            
            <p><a href="http://arduino.cc/en/Reference/StringObject#.Ux3Yex_I0fA">String class</a></p>
            
            <h3 id="data-structures-and-algorithms">Data Structures and Algorithms</h3>
            
            <p><a href="http://playground.arduino.cc//Main/LibraryList#DataStructures">Data Structures and Algorithms</a></p>
            
            <h4 id="queuearray">QueueArray</h4>
            
            <p><a href="http://playground.arduino.cc//Code/QueueArray#.Ux3cDh_I0fA">QueueArray</a></p>
            
            <p>It is created to help adding FIFO (First In - First Out) Abstract Data
            Structure to a program for any use.</p>
            
            <h4 id="queuelist">QueueList</h4>
            
            <p><a href="http://playground.arduino.cc/Code/QueueList#.Ux3hRR_I0fA">QueueList</a></p>
            
            <h3 id="writing-a-library-for-arduino">Writing a Library for Arduino</h3>
            
            <p><a href="http://arduino.cc/en/Hacking/LibraryTutorial#.Ux3emh_I0fA">Writing a Library for Arduino</a></p>
            
            <h3 id="alexanderbrevig---simple-templated-fifo-class">alexanderbrevig - Simple templated FIFO class</h3>
            
            <p><a href="https://code.google.com/p/alexanderbrevig/downloads/list">alexanderbrevig - Simple templated FIFO class</a></p>
            <hr>
            <h3>
              19 February 2014
              &raquo;
              <a href="/blog/2014/02/rpi-radio-gateway/">Raspberry Pi Radio Gateway Build</a>
            </h3>
            <h2 id="overview">Overview</h2>
            
            <p>A Raspberry Pi based gateway to distributed Moteino radio connected Arduinos.</p>
            
            <ul>
              <li>Moteino USB attached as radio interface</li>
              <li>Raspberry Pi hosted gateway based on a JRuby/JVM/Reel based HTTP server</li>
            </ul>
            
            <h2 id="looking-for-a-minimal-server-install">Looking for a minimal server install</h2>
            
            <h3 id="raspbian-wheezy-armhf-raspberry-pi-minimal-imagehttpwwwlinuxsystemsitraspbian-wheezy-armhf-raspberry-pi-minimal-image"><a href="http://www.linuxsystems.it/raspbian-wheezy-armhf-raspberry-pi-minimal-image/">Raspbian Wheezy armhf Raspberry Pi minimal image</a></h3>
            
            <p>After the Debian Wheezy armel image I made a new one based on Raspbian
            armhf. This one is compiled with hard float support, so basically
            floating point operations are MUCH faster because they are done in
            hardware instead of software emulation :)</p>
            
            <h4 id="features-include">Features include:</h4>
            
            <ul>
              <li>A minimal Raspbian Wheezy installation (similar to a netinstall)</li>
              <li>Hard Float binaries: floating point operations are done in hardware instead of software emulation, that means higher performances</li>
              <li>Disabled incremental updates, means apt-get update is much faster</li>
              <li>Workaround for a kernel bug which hangs the Raspberry Pi under heavy network/disk loads</li>
              <li>3.6.11+ hardfp kernel with latest raspberry pi patches</li>
              <li>Latest version of the firmwares</li>
              <li>Fits 1GB SD cards</li>
              <li>A very tiny 118MB image: even with a 2GB SD there is a lot of free space</li>
              <li>ssh starts by default</li>
              <li>The clock is automatically updated using ntp</li>
              <li>IPv6 support</li>
              <li>Just 14MB of ram usage after the boot</li>
            </ul>
            
            <h3 id="other-linux-images-passed-over">Other Linux images passed over</h3>
            
            <ul>
              <li><a href="http://moebiuslinux.sourceforge.net/">Moebius v1.1.1 available</a> </li>
              <li><a href="http://sirlagz.net/2013/03/04/raspbian-server-edition-version-2-3-1gb-image/">Raspbian Server Edition Version 2.3</a></li>
              <li><a href="http://www.raspberrypi.org/phpBB3/viewtopic.php?f=66&amp;t=50310">raspbian-ua-netinst - Raspbian unattended netinstaller</a></li>
            </ul>
            
            <p>The most interesting on here is the raspbian-ua-netinst.  There is Github repo for it:</p>
            
            <p><a href="https://github.com/hifi/raspbian-ua-netinst">Github repo with raspbian-ua-netinst</a></p>
            
            <p>I had previously used the Raspbian net installer here: <a href="http://www.raspbian.org/RaspbianInstaller">RaspbianInstaller</a></p>
            
            <p>But the notes now say: Currently we reccomend using hifi’s
            raspbian-ua-netinst instead if you want to use an installer rather than
            a pre-installed image.</p>
            
            <h2 id="dark-basic-install-notes">Dark Basic install notes</h2>
            
            <p><a href="http://www.linuxsystems.it/raspbian-wheezy-armhf-raspberry-pi-minimal-image/">Dark Basic install page</a></p>
            
            <p><a href="http://raspberrypi.mirrors.node2.hadrill.org.uk/darkbasic/raspbian_wheezy_20130923.img.7z">Dark Basic Raspbian SDHC Boot image</a></p>
            
            <h3 id="start-with-the-dark-basic-install-notes">Start with the Dark Basic install notes</h3>
            
            <p>You will have to extract the image with p7zip:</p>
            
            <pre><code>
            7za x raspbian_wheezy_20130923.img.7z
            </code></pre>
            
            <p>Then flash it to your SD with dd:</p>
            
            <pre><code>
            $ sudo dd bs=1M if=raspbian_wheezy_20130923.img of=/dev/sdc
            </code></pre>
            
            <p>Finally, if you have an sd larger than 1GB, grow the partition with gparted (first move the swap partition at the end).</p>
            
            <pre><code>
            $ sudo gparted /dev/sdc
            </code></pre>
            
            <p>At this point install the SDHC card on the RPI, plug in the ethernet cable,
            plug in the USB terminal cable which will power up the RPI.</p>
            
            <p>Now use screen to watch the boot up messages.</p>
            
            <p>Able to use screen to connect on laptop:</p>
            
            <pre><code>
            $ sudo screen /dev/ttyUSB0 115200
            </code></pre>
            
            <p>When connected check the stty values.</p>
            
            <pre><code>
             $ stty -a
            </code></pre>
            
            <p>Attempts to use socat instead of screen</p>
            
            <pre><code>
             $ sudo socat - /dev/ttyUSB0,b115200
             $ sudo socat - /dev/ttyUSB0,b115200,raw # no
             $ sudo socat - /dev/ttyUSB0,b115200,cs7 # no
             $ sudo socat - /dev/ttyUSB0,b115200,parenb,cs7 # no
             $ sudo socat - /dev/ttyUSB0,b115200,parenb,cs8 # no
             $ sudo socat - /dev/ttyUSB0,b115200,raw,cs7 # no
             $ sudo socat - /dev/ttyusb0,b115200,raw,cs8,start=1,stop=1 # no
             $ sudo socat - /dev/ttyusb0,b115200,parenb=false,raw,cs8,start=1,stop=1 # no
             $ sudo socat - /dev/ttyUSB0,b115200,raw,cs8 # no
             $ sudo socat - /dev/ttyUSB0,b115200,raw,cs7 # no
             $ sudo socat - /dev/ttyUSB0,b115200,raw,cs8 # no
             $ sudo socat - /dev/ttyUSB0,b115200,cs8,parenb=0 # close, but not exact
             $ sudo socat - /dev/ttyUSB0,b115200,cs8,parenb=0,stop=0 # close
             $ sudo socat - /dev/ttyUSB0,cs8,parenb=0,stop=0,ixon=1,ixoff=1 # close
             $ sudo socat - /dev/ttyUSB0,cs8,parenb=0,stop=0,ixon=1,ixoff=1,echo=0
             
             $ sudo screen /dev/ttyUSB0 115200
             $ sudo socat /dev/ttyUSB0,raw,echo=0,crlf
             
             $ socat -d -d -d -d -x TCP:localhost:7758 FILE:/dev/ttyUSB0,b9600,raw
            </code></pre>
            
            <p>Found the IP address on the router: 192.168.88.223</p>
            
            <p>ssh into the RPI and have a go.
            The root password is raspberry.</p>
            
            <pre><code>
             $ ssh root@192.168.88.223
            </code></pre>
            
            <p>Change the root password</p>
            
            <pre><code>
            passwd
            </code></pre>
            
            <p>You will have to reconfigure your timezone after the first boot:</p>
            
            <pre><code>
             # dpkg-reconfigure tzdata
            </code></pre>
            
            <p>The keyboard layout:</p>
            
            <pre><code>
             # dpkg-reconfigure console-data
            </code></pre>
            
            <p>And the localization:</p>
            
            <pre><code>
             # dpkg-reconfigure locales
            </code></pre>
            
            <h3 id="some-docs">Some docs</h3>
            
            <ul>
              <li><a href="http://www.debian.org/doc/manuals/debian-reference/index.en.html">Debian Reference</a></li>
              <li><a href="http://debian-handbook.info/browse/wheezy/">Debian 7 The Debian Administrator’s Handbook</a></li>
              <li><a href="http://www.debian.org/doc/manuals/maint-guide/index.en.html">Debian New Maintainers’ Guide</a></li>
            </ul>
            
            <h3 id="and-proceed">And proceed</h3>
            
            <h4 id="change-the-hostname">Change the hostname</h4>
            
            <p>Edit /etc/hostname to have the hostname.</p>
            
            <pre><code>
            $ cat /etc/hostname
            pika
            </code></pre>
            
            <p>Edit /etc/hosts and a line with the new hostname.</p>
            
            <pre><code>
            $ cat /etc/hosts
            127.0.0.1	localhost
            127.0.0.1	pika       &lt;&lt;&lt; added this line with hostname
             ...
            </code></pre>
            
            <h4 id="add-a-user">Add a user</h4>
            
            <pre><code>
            # adduser craig
            
            Note that from now on:
            # prompt means run as root. 
            $ prompt means run as user craig
            </code></pre>
            
            <pre><code>
            # su - craig
            </code></pre>
            
            <p>Generate a key pair for the new user</p>
            
            <pre><code>
            $ ssh-keygen
            </code></pre>
            
            <p>Check the Debian version</p>
            
            <pre><code>
            $ cat /etc/debian_version
            7.2
            </code></pre>
            
            <p>Update the system</p>
            
            <pre><code>
            # apt-get update
            # apt-get dist-upgrade
            </code></pre>
            
            <p>Install python, vim, tmux, git</p>
            
            <pre><code>
            # apt-get install python
            </code></pre>
            
            <pre><code>
            # apt-get install vim tmux git
            </code></pre>
            
            <p>Personalize git</p>
            
            <pre><code>
            # git config --global user.name "Your Name Here"
            Sets the default name for git to use when you commit
            
            # git config --global user.email "your_email@example.com"
            Sets the default email for git to use when you commit
            </code></pre>
            
            <p>Set up the vim dotfiles and vundle.</p>
            
            <pre><code>
            $ git clone git@github.com:CootCraig/dotfiles_again.git
            
            $ cd dotfiles_again/linux
            $ bash ./install.sh 
            
            cd ~/dotfiles_again/windows/vimfiles/bundle
            git clone https://github.com/gmarik/vundle.git
            </code></pre>
            
            <p>There are some notes on using vundle in the file ~/.vim/bundle/Readme.txt
            The Raspbian vim does not have python support, so disable UltiSnips
            vim script.  Comment out the following line in ~/.vimrc</p>
            
            <pre><code>
            Bundle 'vim-scripts/UltiSnips'
              to
            "Bundle 'vim-scripts/UltiSnips'
            </code></pre>
            
            <p>And then run BundleInstall.</p>
            
            <pre><code>
            in vim. :BundleInstall
            </code></pre>
            
            <h4 id="password-less-ssh">password less ssh</h4>
            
            <p>These instructions worked fine.</p>
            
            <p><a href="https://www.debian.org/devel/passwordlessssh">How to set up ssh so you aren’t asked for a password</a></p>
            
            <p>Add the contents of the public key file into ~/.ssh/authorized_keys on
            the remote site (the file should be mode 600).</p>
            
            <h4 id="make-user-a-sudoer">make user a sudoer</h4>
            
            <pre><code>
            # apt-get install sudo
            # adduser craig sudo
            </code></pre>
            
            <h4 id="pause-and-make-a-backup-of-the-sdhc-image">Pause and make a backup of the SDHC image</h4>
            
            <p>On the Ubuntu host.</p>
            
            <pre><code>
            $ sudo dd bs=1M if=/dev/sdc of=pika_20140220_1441.img
            7519+0 records in
            7519+0 records out
            7884242944 bytes (7.9 GB) copied, 446.404 s, 17.7 MB/s
            
            $ 7za a -t7z pika_20140220_1441.img.7z pika_20140220_1441.img
            
            $ ls -l pika_2014*
            -rw-r--r-- 1 craig craig 7884242944 Feb 20 14:49 pika_20140220_1441.img
            -rw-r--r-- 1 craig craig  254215741 Feb 20 15:09 pika_20140220_1441.img.7z
            </code></pre>
            
            <h4 id="install-compiler-tools">Install Compiler tools</h4>
            
            <pre><code>
            # apt-get install build-essential checkinstall libtool automake uuid-dev
            
            The following extra packages will be installed:
              autoconf autotools-dev binutils bzip2 cpp cpp-4.6 dpkg-dev fakeroot g++ g++-4.6 gcc gcc-4.6 libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libdpkg-perl libfile-fcntllock-perl libgmp10 libgomp1 libltdl-dev
              libltdl7 libmpc2 libmpfr4 libstdc++6-4.6-dev libtimedate-perl m4 make
            Suggested packages:
              autoconf2.13 autoconf-archive gnu-standards autoconf-doc gettext binutils-doc bzip2-doc cpp-doc gcc-4.6-locales debian-keyring gcc-4.6-doc libstdc++6-4.6-dbg gcc-multilib manpages-dev automake1.9 flex bison gdb gcc-doc
              libmudflap0-4.6-dev libgcc1-dbg libgomp1-dbg libquadmath-dbg libmudflap0-dbg binutils-gold libtool-doc libstdc++6-4.6-doc automaken gfortran fortran95-compiler gcj make-doc
            The following NEW packages will be installed:
              autoconf automake autotools-dev binutils build-essential bzip2 checkinstall cpp cpp-4.6 dpkg-dev fakeroot g++ g++-4.6 gcc gcc-4.6 libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl libdpkg-perl
              libfile-fcntllock-perl libgmp10 libgomp1 libltdl-dev libltdl7 libmpc2 libmpfr4 libstdc++6-4.6-dev libtimedate-perl libtool m4 make uuid-dev
            0 upgraded, 32 newly installed, 0 to remove and 0 not upgraded.
            Need to get 26.8 MB of archives.
            After this operation, 69.2 MB of additional disk space will be used.
            </code></pre>
            
            <h4 id="zeromq-build-and-install">Zeromq build and install</h4>
            
            <p><a href="http://download.zeromq.org/zeromq-3.2.4.tar.gz">Source for stable release 3.2.4</a></p>
            
            <p>This is supported by ffi-rzmq, the JRuby librar I plan to use.
            I unpacked for build at:</p>
            
            <pre><code>
            # cd /opt/zeromq/zeromq-3.2.4
            </code></pre>
            
            <p>The installation will be to /usr/local/</p>
            
            <pre><code>
            # ./configure --help
            Installation directories:
              --prefix=PREFIX         install architecture-independent files in PREFIX
                                      [/usr/local]
              --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                                      [PREFIX]
            </code></pre>
            
            <p>Build and install.</p>
            
            <pre><code>
            # ./configure
            # make
            # checkinstall
            </code></pre>
            
            <p>A debian package was left here:</p>
            
            <pre><code>
            /opt/zeromq/zeromq-3.2.4/zeromq_3.2.4-1_armhf.deb
            </code></pre>
            
            <h4 id="set-up-serial-console">Set up serial console</h4>
            
            <p>From /etc/inittab</p>
            
            <pre><code>
            ...
            # Example how to put a getty on a serial line (for a terminal)
            #
            #T0:23:respawn:/sbin/getty -L ttyS0 9600 vt100
            #T1:23:respawn:/sbin/getty -L ttyS1 9600 vt100
            ...
            </code></pre>
            
            <p>However, this is the device file we see:</p>
            
            <pre><code>
            $ ls -l /dev/ttyAMA0
            crw-rw---T 1 root dialout 204, 64 Dec 31  1969 /dev/ttyAMA0
            </code></pre>
            
            <p>So let’s add this line to /etc/inittab</p>
            
            <pre><code>
            ...
            # Example how to put a getty on a serial line (for a terminal)
            #
            #T0:23:respawn:/sbin/getty -L ttyS0 9600 vt100
            T0:23:respawn:/sbin/getty -L ttyAMA0 115200 vt100
            #T1:23:respawn:/sbin/getty -L ttyS1 9600 vt100
            ...
            </code></pre>
            
            <p><a href="http://www.gnu.org/software/screen/manual/screen.html">Screen User’s Manual</a></p>
            
            <h3 id="post-to-raspberrypiorgforum-about-edimax-ew-7811un">Post to raspberrypi.org/forum about Edimax EW-7811UN</h3>
            
            <p>I have failed to get Wifi working and would like some help.
            I’m not sure how how to troubleshoot from here.
            Here are some details on my setup.</p>
            
            <p>Using this OS image. I want a minimal install with no X.</p>
            
            <p><a href="http://raspberrypi.mirrors.node2.hadrill.org.uk/darkbasic/raspbian_wheezy_20130923.img.7z">Dark Basic Raspbian SDHC Boot image</a></p>
            
            <p>With this USB wifi plug: Edimax EW-7811UN</p>
            
            <p>Boot time messages include these related to the Edimax plug.</p>
            
            <pre><code>
            [    3.232011] usb 1-1.2: new high-speed USB device number 4 using dwc_otg
            [    3.364155] usb 1-1.2: New USB device found, idVendor=7392, idProduct=7811
            [    3.380505] usb 1-1.2: New USB device strings: Mfr=1, Product=2, SerialNumber=3
            [    3.399033] usb 1-1.2: Product: 802.11n WLAN Adapter
            [    3.411807] usb 1-1.2: Manufacturer: Realtek
            [    3.417625] usb 1-1.2: SerialNumber: 00e04c000001
             ...
            [   15.826605] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
            </code></pre>
            
            <p>System reports as.</p>
            
            <pre><code>
            root@pika:~# uname -a
            Linux pika 3.6.11+ #545 PREEMPT Fri Sep 20 23:57:55 BST 2013 armv6l GNU/Linux
            </code></pre>
            
            <p>More evidence the Edimax Wifi is seen</p>
            
            <pre><code>
            root@pika:~# lsusb
            Bus 001 Device 002: ID 0424:9512 Standard Microsystems Corp. 
            Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
            Bus 001 Device 003: ID 0424:ec00 Standard Microsystems Corp. 
            Bus 001 Device 004: ID 7392:7811 Edimax Technology Co., Ltd EW-7811Un 802.11n Wireless Adapter [Realtek RTL8188CUS]
            </code></pre>
            
            <p>The wifi driver module is loaded</p>
            
            <pre><code>
            root@pika:~# lsmod
            Module                  Size  Used by
             ...
            8192cu                490361  0 
             ...
            </code></pre>
            
            <p>Output of iwconfig</p>
            
            <pre><code>
            root@pika:~# iwconfig
            wlan0     unassociated  Nickname:"&lt;WIFI@REALTEK&gt;"
                      Mode:Auto  Frequency=2.412 GHz  Access Point: Not-Associated   
                      Sensitivity:0/0  
                      Retry:off   RTS thr:off   Fragment thr:off
                      Encryption key:off
                      Power Management:off
                      Link Quality:0  Signal level:0  Noise level:0
                      Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
                      Tx excessive retries:0  Invalid misc:0   Missed beacon:0
            </code></pre>
            
            <p>The MicroTik Router is seen.</p>
            
            <pre><code>
            root@pika:~# iwlist wlan0 scan
            wlan0     Scan completed :
                      Cell 01 - Address: D4:CA:6D:56:86:59
                                ESSID:"Pirates"
                                Protocol:IEEE 802.11bgn
                                Mode:Master
                                Frequency:2.412 GHz (Channel 1)
                                Encryption key:on
                                Bit Rates:300 Mb/s
                                Extra:wpa_ie=dd160050f20101000050f20401000050f20401000050f202
                                IE: WPA Version 1
                                    Group Cipher : CCMP
                                    Pairwise Ciphers (1) : CCMP
                                    Authentication Suites (1) : PSK
                                Extra:rsn_ie=30120100000fac040100000fac040100000fac02
                                IE: IEEE 802.11i/WPA2 Version 1
                                    Group Cipher : CCMP
                                    Pairwise Ciphers (1) : CCMP
                                    Authentication Suites (1) : PSK
                                Quality=100/100  Signal level=100/100  
            </code></pre>
            
            <p>Contents of /etc/network/interfaces.</p>
            
            <pre><code>
            root@pika:/etc/network# cat /etc/network/interfaces
            # interfaces(5) file used by ifup(8) and ifdown(8)
            auto lo
            iface lo inet loopback
            
            allow-hotplug eth0
            iface eth0 inet dhcp
            
            allow-hotplug wlan0
            iface wlan0 inet dhcp
              wpa-ssid Pirates
              wpa-psk thepassword
            </code></pre>
            
            <p>But I have not been able to enable the Wifi.</p>
            
            <pre><code>
            root@pika:~# ifup wlan0
            Internet Systems Consortium DHCP Client 4.2.2
            Copyright 2004-2011 Internet Systems Consortium.
            All rights reserved.
            For info, please visit https://www.isc.org/software/dhcp/
            
            [ 1389.028246] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
            Listening on LPF/wlan0/80:1f:02:a2:df:94
            Sending on   LPF/wlan0/80:1f:02:a2:df:94
            Sending on   Socket/fallback
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 5
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 8
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 11
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 15
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 18
            DHCPDISCOVER on wlan0 to 255.255.255.255 port 67 interval 4
            No DHCPOFFERS received.
            No working leases in persistent database - sleeping.
            </code></pre>
            
            <p>Note, the MicroTik router Wifi is in use
            by all the laptops we have tried.</p>
            
            <h3 id="set-up-wifi">Set up wifi</h3>
            
            <ul>
              <li><a href="http://elinux.org/RPi_edimax_EW-7811Un">Installing the Edimax EW-7811UN wireless adapter on Raspberry Pi</a></li>
              <li><a href="http://www.howtogeek.com/167425/how-to-setup-wi-fi-on-your-raspberry-pi-via-the-command-line/">How to Setup Wi-Fi On Your Raspberry Pi via the Command Line</a></li>
              <li><a href="http://www./etc/network/interfaces.com/projects/raspberry-pi-installing-the-edimax-ew-7811un-usb-wifi-adapte.html">savagehomeautomation - Raspberry Pi - Installing the Edimax EW-7811Un USB WiFi</a></li>
              <li><a href="https://wiki.debian.org/WiFi/HowToUse">Debian - WiFi How to Use</a></li>
              <li><a href="http://jeffskinnerbox.wordpress.com/2012/11/05/wifi-support-on-raspberry-pi/">jeffskinnerbox - wifi-support-on-raspberry-pi</a></li>
              <li><a href="https://wiki.debian.org/rtl819x">Debian page - rtl819x</a></li>
            </ul>
            
            <h2 id="todo-list">todo list</h2>
            
            <h3 id="done">done</h3>
            
            <ul>
              <li>password less ssh</li>
              <li>make user a sudoer</li>
              <li>checkinstall and compile tools</li>
              <li>zeromq compile and install</li>
              <li>serial console</li>
            </ul>
            
            <h3 id="todo">todo</h3>
            
            <ul>
              <li>wifi setup</li>
              <li>fixed IP address</li>
              <li>Oracle JVM</li>
              <li>JRuby</li>
              <li>JRuby/Reel test</li>
            </ul>
            <hr>
            <h3>
              27 January 2014
              &raquo;
              <a href="/blog/2014/01/usb-cables/">USB Cables</a>
            </h3>
            <h2 id="spartfun---usb-buying-guidehttpswwwsparkfuncompagesusbguide"><a href="https://www.sparkfun.com/pages/USB_Guide">Spartfun - USB Buying Guide</a></h2>
            
            <h3 id="what-does-usb-do">What Does USB Do?</h3>
            
            <p>USB cables replace the huge variety of connectors that used to be standard
            for computer peripherals: Parallel ports, DB9 Serial, keyboard and mouse
            ports, joystick and midi ports… Really, it was getting out of hand. USB
            simplifies the process of installing and replacing hardware by making all
            communications adhere to a serial standard which takes place on a twisted
            pair data cable and identifies the device that’s connected. When you add
            the power and ground connections, you’re left with a simple 4-conductor
            cable that’s inexpensive to make and easy to stow.</p>
            
            <p><img src="/assets/images/500px-USB_half.png" /></p>
            
            <h3 id="what-kinds-of-cables-are-out-there">What Kinds of Cables are Out There?</h3>
            
            <p><img src="/assets/images/500px-Types-usb_th1_half.png" /></p>
            
            <p>99% of host controllers will have a USB-A receptacle, so when
            you’re looking for a USB cable, you’ll usually be looking for a “USB
            A-to-something” cable. A lot of the time the USB-A end is assumed, since
            that’s the connector on most PCs, and cables will be named after the
            connector on the opposite end. Some smaller hosts use a Mini or Micro
            receptacle but they usually supply a pigtail adapter to USB-A.</p>
            
            <p><img src="/assets/images/USBTypes2.jpg" /></p>
            <hr>
            <h3>
              25 January 2014
              &raquo;
              <a href="/blog/2014/01/jeenode/">Jeenodes</a>
            </h3>
            <ul>
              <li><a href="http://jeelabs.org/2011/12/19/the-jeenode-as-seen-from-15-24-km/">The JeeNode, as seen from 15.24 km</a></li>
              <li><a href="http://jeelabs.org/2012/12/14/meet-the-led-node-v2/">JeeLabs - LED node</a></li>
              <li><a href="http://jeelabs.net/projects/cafe/boards/">JeeLabs - forum</a></li>
              <li><a href="http://www.alexwhittemore.com/rfm12b-breakout-board/">RFM12B Breakout Board</a></li>
            </ul>
            
            <p><img src="/assets/images/alexwhittemore_rfm12b_breakout.png" /></p>
            
            <p>I just received from Sparkfun a few RFM12B wireless modules to experiment
            with. They’re great little things – you get a FIFO in, a FIFO out,
            all the RF stuff is taken care of, and you have super flexibility with
            all the network layers above that. The best part is, the relatively
            low complexity compared to something like a ZigBee means both that
            there’s no extraneous fluff when your application doesn’t need
            it, and the cost is just right at $7/module in low quantities. But
            annoyingly, they can be had in a SMD module with 2mm pin pitch –
            not very 100mil breadboard friendly. Not wanting to deal with that. I
            whipped up a basic passive breakout board to have on hand. Inevitably,
            this will see updates as I do things like add regulators and level
            shifters for particular projects. For now, it just makes breadboarding
            easy. To get the files, head over to the Github repository at
            https://github.com/alexwhittemore/RFM12B-Breakout. I’ve ordered 6 from
            OSHPark, I’ll report back in a couple weeks how they turned out.</p>
            
            <p><a href="http://moderndevice.com/product/jeelabs-rfm12b-board-kit/">ModernDevice - rfm12b-board</a></p>
            
            <p>This board is the perfect way to interface traditional Arduinos (or other
            microcontrollers) to JeeNodes. While we like our JeeLink modules a lot,
            as an easy way to get going with wireless, this board is a quick and
            easy add-on to Arduinos, to leverage your current technology. The RFM12B
            Board is a compact breakout board for HopeRF’s RFM12B radio module,
            as featured on all JeeNode and JeeLink boards. If you are looking for an
            affordable way to add wireless communication to your Arduino (compatible)
            board, this is the board to get.</p>
            <hr>
            <h3>
              27 January 2014
              &raquo;
              <a href="/blog/2014/01/aurduino-parts/">Arduino Parts</a>
            </h3>
            <h2 id="arduino-boards">Arduino boards</h2>
            
            <h2 id="ftdi-cabling">FTDI cabling</h2>
            
            <h3 id="ftdi-friend--extras---v10-1475httpswwwadafruitcomproducts284"><a href="https://www.adafruit.com/products/284">FTDI Friend + extras - v1.0 $14.75</a></h3>
            
            <p><img src="/assets/images/adafruit_ftdifriend.jpg" /></p>
            
            <h3 id="ftdi-basic-breakout---33v-1500httpswwwsparkfuncomproducts9873"><a href="https://www.sparkfun.com/products/9873">FTDI Basic Breakout - 3.3V $15.00</a></h3>
            
            <p><a href="https://www.sparkfun.com/products/9716">FTDI Basic Breakout - 5V $15.00</a></p>
            
            <p><img src="/assets/images/sparkfun_ftdibasic.jpg" /></p>
            <hr>
            <h3>
              09 February 2014
              &raquo;
              <a href="/blog/2014/02/arduino-ide/">Arduino IDE</a>
            </h3>
            
            <hr>
            <h3>
              25 January 2014
              &raquo;
              <a href="/blog/2014/01/jeenode-step-lights/">Step Light Control</a>
            </h3>
            <p>Now looking at Modeino instead of JeeNodes</p>
            
            <ul>
              <li><a href="http://learn.adafruit.com/rgb-led-strips/usage">Tutorial on MosFET PWM LED dimming</a></li>
              <li><a href="http://joost.damad.be/2012/09/dimming-12v-led-strip-with-mosfet-and.html">joost - Dimming 12v LED dimming with MosFET</a></li>
              <li><a href="http://www.instructables.com/id/Semi-Conducting-A-Guide/step14/Totem-Poles/">instructables - Semiconductor totem-pole</a></li>
              <li><a href="http://www.adafruit.com/products/355">Adafruit - N-channel power MOSFET - 30V / 60A</a></li>
              <li><a href="http://jeelabs.org/">JeeNodes got me looking at arduino with radio</a></li>
              <li><a href="http://jeelabs.net/projects/cafe/wiki/Dive_Into_JeeNodes">JeeLabs - Dive into JeeNodes</a></li>
              <li><a href="http://moderndevice.com/product/jeenode-v6-kit/">Modern Device is US seller of JeeLabs</a></li>
            </ul>
            
            <p>Radios are available in 433 MHz &amp; 915 MHz in the US, all unlicensed ISM
            (Industrial, Scientific, Medical) bands.</p>
            
            <p>The JeeNode Kit contains all the parts needed to build a JeeNode v6
            – including an ATmega328p processor and an RFM12B radio module. The
            processor chip is pre-flashed with the Arduino boot loader and the
            RF12demo sketch, so it works to talk to another JeeNode right out of
            the box.</p>
            
            <ul>
              <li><a href="http://moderndevice.com/product/jee-proto-boards/">Modern Device - Jee Proto Board $4.75</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-lux-plug/">Modern Device - JeeLabs Lux Plug</a></li>
              <li><a href="http://jeelabs.net/projects/hardware/wiki/Lux_Plug">JeeLabs - Light detector</a></li>
              <li><a href="http://moderndevice.com/product/relay-plug/">Modern Device - JeeLabs Relay Plug $14.00</a></li>
              <li><a href="http://jeelabs.org/2010/08/18/meet-the-relay-plug/">Meet the Relay Plug</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-mosfet-plug-kit/">Modern Device - JeeLabs MOSFET Plug Kit $14.00</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-dimmer-plug/">Modern Device - JeeLabs Dimmer Plug $12.50</a></li>
              <li><a href="http://jeelabs.org/2012/12/14/meet-the-led-node-v2/">JeeLabs - Meet the LED Node</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-led-node-v2-kit/">Modern Device - JeeLabs LED Node v2 Kit $28.00</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-aa-power-board/">Modern Device - Jee Labs battery power board</a></li>
              <li><a href="http://www.adafruit.com/blog/2009/10/20/example-code-for-multi-button-checker-with-debouncing/">Adafruit - 6 push buttons example</a></li>
              <li><a href="http://moderndevice.com/product/jeelabs-memory-plug/">Modern Device - Jeelabs memory plug</a></li>
              <li><a href="http://www.adafruit.com/products/1141">Adafruit Assembled Data Logging shield for Arduino - ID: 1141</a></li>
            </ul>
            
            <h3 id="hardware-newbie-project---wireless-exterior-led-strip-control">Hardware newbie project - Wireless exterior LED strip control.</h3>
            
            <p>Here is an introduction of my first attempt at an Arduino project.</p>
            
            <p>I have installed </p>
            
            <p>260 inches of this 
            <a href="http://www.ledwholesalers.com/store/index.php?act=viewProd&amp;productId=887">12v LED strip</a>
            into my front steps.</p>
            
            <p>My estimate of maximum power consumed is 32W as shown here.
            Their rating is 24W for a 16.4 foot reel. So my power estimate is</p>
            
            <p>260 in. X (24w / 197in) ~= 32W.</p>
            
            <p>The strip is too bright by itself so I use a PWM dimmer from
            LEDWholesalers set about as low as it will go.</p>
            
            <p>What I would like to do is use a JeeNode and LEDnode pair to
            make a remote controller for the lights.</p>
            
            <ul>
              <li>Main control: On / Off / Sunset timer</li>
              <li>Select sunset timer duration: 2 / 4 / 6 hours</li>
              <li>Restart timer momentary switch if in Sunset timer mode.</li>
              <li>Brightness control rotary dial</li>
            </ul>
            
            <p>I’m hoping to get some help and encouragement here and to end up
            with a sweet controller for our LED step lighting.</p>
            
            <h3 id="tinker-kit-mosfethttpwwwtinkerkitcommosfet"><a href="http://www.tinkerkit.com/mosfet/">Tinker Kit MosFET</a></h3>
            
            <p>This module switches a high current load using a high power
            transistor. Unlike a mechanical relay, this is capable of high speed
            switching for use with PWM.</p>
            
            <p>Output: This module lets you control devices operating at a maximun of
            24VDC with an Arduino pin. To wire the module, connect the power supply
            for your device (max 24 V) to the V+ and GND terminals. Connect the
            device to M+ and M-. Be aware of your circuit’s polarity, you could
            damage your components if it is not wired correctly.</p>
            
            <p>Module Description: This module features an IRF520 power MOSFET
            transistor, a kick-back diode, a standard TinkerKit 3pin connector,a
            signal amplifier, a green LED that signals that the module is correctly
            powered and one yellow LED whose brightness depends on the input signal
            received by the module.</p>
            
            <h3 id="sparkfun-rotary-encoder-com-09117httpswwwsparkfuncomproducts9117"><a href="https://www.sparkfun.com/products/9117">SparkFun Rotary Encoder COM-09117</a></h3>
            
            <p>Description: This is a 12-step rotary encoder with a nice ‘clicking’
            feel. It’s breadboard friendly, and has a pretty handy select switch (by
            pushing in on the knob). The encoder is different from a potentiometer in
            that an encoder has full rotation without limits. The unit outputs gray
            code so that you can tell how much and in which direction the encoder
            has been turned.</p>
            
            <h3 id="jeelabs---16-channel-input-multiplexerhttpmoderndevicecomproductjeelabs-input-plug"><a href="http://moderndevice.com/product/jeelabs-input-plug/">JeeLabs - 16-channel input multiplexer</a></h3>
            
            <p>The Input Plug is a small board containing a CD4067 16-channel analog
            multiplexer plus a dedicated ATtiny microcontroller to take care of
            channel selection. It allows you to connect up to 16 analog inputs to a
            single AIO pin on any port. There is an “InputPlug” class in the Ports
            library to interface with this board and perform the channel selection.</p>
            
            <p>This board can also be used as 16-channel digital input multiplexer,
            and even for digital outputs or PWM – with the restriction than a
            channel goes into high-impedance mode when not selected (there is no
            latching or buffering).</p>
            
            <h3 id="sparkfun---momentary-push-button-switch---12mm-squarehttpswwwsparkfuncomproducts9190"><a href="https://www.sparkfun.com/products/9190">Sparkfun - Momentary Push Button Switch - 12mm Square</a></h3>
            
            <p>Description: This is a standard 12mm square momentary button. What we
            really like is the large button head and good tactile feel (it ‘clicks’
            really well). This button is great for user input on a PCB or a good,
            big reset button on a breadboard. Breadboard friendly!</p>
            
            <h3 id="sparkfun---tsl2561-luminosity-sensor-breakouthttpswwwsparkfuncomproducts12055"><a href="https://www.sparkfun.com/products/12055">Sparkfun - TSL2561 Luminosity Sensor Breakout</a></h3>
            
            <p>The TSL2561 Luminosity Sensor Breakout is a sophisticated light sensor
            which has a flat response across most of the visible spectrum. Unlike
            simpler sensors, the TSL2561 measures both infrared and visible light
            to better approximate the response of the human eye. And because the
            TSL2561 is an integrating sensor (it soaks up light for a predetermined
            amount of time), it is capable of measuring both small and large amounts
            of light by changing the integration time.</p>
            
            <p>The TSL2561 is capable of direct I2C communication and is able to conduct
            specific light ranges from 0.1 - 40k+ Lux easily. Additionally, the
            TSL12561 contains two integrating analog-to-digital converters (ADC) that
            integrate currents from two photodiodes, simultaneously. Each breakout
            requires a supply voltage of 3V and a low supply current max of 0.6mA.</p>
            <hr>
          </div>
          <div class='small-4 large-2 columns'>
            <h5>Tags</h5>
            <ul class='no-bullet'>
              <li><a href="/blog/tags/diy" rel="tag">diy</a></li>
              <li><a href="/blog/tags/arduino" rel="tag">arduino</a></li>
              <li><a href="/blog/tags/antenna" rel="tag">antenna</a></li>
              <li><a href="/blog/tags/turntable" rel="tag">turntable</a></li>
              <li><a href="/blog/tags/cellphone" rel="tag">cellphone</a></li>
              <li><a href="/blog/tags/led" rel="tag">led</a></li>
              <li><a href="/blog/tags/diy_audio" rel="tag">diy_audio</a></li>
              <li><a href="/blog/tags/am" rel="tag">am</a></li>
              <li><a href="/blog/tags/chipamp" rel="tag">chipamp</a></li>
              <li><a href="/blog/tags/tuner" rel="tag">tuner</a></li>
              <li><a href="/blog/tags/bluehost" rel="tag">bluehost</a></li>
              <li><a href="/blog/tags/raspberry_pi" rel="tag">raspberry_pi</a></li>
              <li><a href="/blog/tags/beaglebone" rel="tag">beaglebone</a></li>
              <li><a href="/blog/tags/volumio" rel="tag">volumio</a></li>
              <li><a href="/blog/tags/fm" rel="tag">fm</a></li>
              <li><a href="/blog/tags/reactor_safety" rel="tag">reactor_safety</a></li>
              <li><a href="/blog/tags/javascript" rel="tag">javascript</a></li>
              <li><a href="/blog/tags/developers_to_watch" rel="tag">developers_to_watch</a></li>
              <li><a href="/blog/tags/preamp" rel="tag">preamp</a></li>
              <li><a href="/blog/tags/wifi" rel="tag">wifi</a></li>
              <li><a href="/blog/tags/stereo_system" rel="tag">stereo_system</a></li>
              <li><a href="/blog/tags/ti_cc_3000" rel="tag">ti_cc_3000</a></li>
              <li><a href="/blog/tags/bluetooth" rel="tag">bluetooth</a></li>
              <li><a href="/blog/tags/usb" rel="tag">usb</a></li>
              <li><a href="/blog/tags/moteino_home_automation" rel="tag">moteino_home_automation</a></li>
              <li><a href="/blog/tags/radio" rel="tag">radio</a></li>
              <li><a href="/blog/tags/speaker" rel="tag">speaker</a></li>
              <li><a href="/blog/tags/portable" rel="tag">portable</a></li>
              <li><a href="/blog/tags/stereo_receiver" rel="tag">stereo_receiver</a></li>
              <li><a href="/blog/tags/tv" rel="tag">tv</a></li>
              <li><a href="/blog/tags/coding" rel="tag">coding</a></li>
              <li><a href="/blog/tags/webmail" rel="tag">webmail</a></li>
              <li><a href="/blog/tags/spam_assassin" rel="tag">spam_assassin</a></li>
              <li><a href="/blog/tags/green_chile" rel="tag">green_chile</a></li>
              <li><a href="/blog/tags/tube_audio" rel="tag">tube_audio</a></li>
              <li><a href="/blog/tags/electronics" rel="tag">electronics</a></li>
              <li><a href="/blog/tags/fm_transmitter" rel="tag">fm_transmitter</a></li>
              <li><a href="/blog/tags/porch_steps_led" rel="tag">porch_steps_led</a></li>
              <li><a href="/blog/tags/tear_drop_trailers" rel="tag">tear_drop_trailers</a></li>
              <li><a href="/blog/tags/recipe" rel="tag">recipe</a></li>
              <li><a href="/blog/tags/raspbian" rel="tag">raspbian</a></li>
              <li><a href="/blog/tags/arduino_radio" rel="tag">arduino_radio</a></li>
              <li><a href="/blog/tags/diy_cabling" rel="tag">diy_cabling</a></li>
              <li><a href="/blog/tags/ajax" rel="tag">ajax</a></li>
              <li><a href="/blog/tags/phusion_passenger" rel="tag">phusion_passenger</a></li>
              <li><a href="/blog/tags/rhombic_antenna" rel="tag">rhombic_antenna</a></li>
              <li><a href="/blog/tags/job_skills" rel="tag">job_skills</a></li>
              <li><a href="/blog/tags/diy_li_ion_battery_pack" rel="tag">diy_li_ion_battery_pack</a></li>
              <li><a href="/blog/tags/moosefet" rel="tag">moosefet</a></li>
              <li><a href="/blog/tags/sql" rel="tag">sql</a></li>
              <li><a href="/blog/tags/headphone_amp" rel="tag">headphone_amp</a></li>
              <li><a href="/blog/tags/welcome" rel="tag">welcome</a></li>
              <li><a href="/blog/tags/cd_player" rel="tag">cd_player</a></li>
              <li><a href="/blog/tags/philips_cd935" rel="tag">philips_cd935</a></li>
              <li><a href="/blog/tags/email" rel="tag">email</a></li>
              <li><a href="/blog/tags/lp_storage" rel="tag">lp_storage</a></li>
              <li><a href="/blog/tags/vinyl_lp" rel="tag">vinyl_lp</a></li>
              <li><a href="/blog/tags/cleaning" rel="tag">cleaning</a></li>
              <li><a href="/blog/tags/survival" rel="tag">survival</a></li>
              <li><a href="/blog/tags/headphones" rel="tag">headphones</a></li>
              <li><a href="/blog/tags/hurricane_lantern" rel="tag">hurricane_lantern</a></li>
              <li><a href="/blog/tags/job_hunt" rel="tag">job_hunt</a></li>
              <li><a href="/blog/tags/gammu" rel="tag">gammu</a></li>
              <li><a href="/blog/tags/rs232" rel="tag">rs232</a></li>
              <li><a href="/blog/tags/max232" rel="tag">max232</a></li>
              <li><a href="/blog/tags/arduino_ide" rel="tag">arduino_ide</a></li>
              <li><a href="/blog/tags/rails" rel="tag">rails</a></li>
              <li><a href="/blog/tags/rails-api" rel="tag">rails-api</a></li>
              <li><a href="/blog/tags/tuned_loop" rel="tag">tuned_loop</a></li>
              <li><a href="/blog/tags/repair" rel="tag">repair</a></li>
              <li><a href="/blog/tags/coax_power_plug" rel="tag">coax_power_plug</a></li>
              <li><a href="/blog/tags/bluez" rel="tag">bluez</a></li>
              <li><a href="/blog/tags/programming" rel="tag">programming</a></li>
              <li><a href="/blog/tags/pc_audio" rel="tag">pc_audio</a></li>
              <li><a href="/blog/tags/subwoofer" rel="tag">subwoofer</a></li>
              <li><a href="/blog/tags/headset" rel="tag">headset</a></li>
              <li><a href="/blog/tags/ebay" rel="tag">ebay</a></li>
              <li><a href="/blog/tags/hardware_hackers" rel="tag">hardware_hackers</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src='/assets/app.js'></script>
  </body>
</html>
