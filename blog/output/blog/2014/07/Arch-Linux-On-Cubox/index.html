<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>
      Coot Craig Blog
      Arch Linux On Cubox
    </title>
    <link href='/assets/app.css' rel='stylesheet'>
    <script src='/assets/modernizr.js'></script>
    <script src='/assets/jquery-2.0.3.min.js'></script>
    <script src='/assets/foundation.js'></script>
    <script src='/assets/foundation.topbar.js'></script>
  </head>
  <body>
    <div class='header'>
      <div class='contain-to-grid'>
        <nav class='top-bar'>
          <ul class='title-area'>
            <li class='name'>
              <a href='/'>Coot Craig Blog</a>
            </li>
            <li class='toggle-topbar menu-icon'>
              <a href='#'>
                <span>Menu</span>
              </a>
            </li>
          </ul>
          <section class='top-bar-section'>
            <ul class='left'></ul>
            <ul class='right'>
              <li>
                <a href='/blog/'>Blog</a>
              </li>
              <li>
                <a href='#'>Contact</a>
              </li>
            </ul>
          </section>
        </nav>
      </div>
    </div>
    <div class='row'>
      <div class='twelve columns'>
        <div class='post'>
          <h3>Arch Linux On Cubox</h3>
          <aside>Posted on Saturday, July 12 2014</aside>
          <article>
            <h1 id="key-websites-and-forums">Key Websites and Forums</h1>
            
            <ul>
              <li><a href="http://www.solid-run.com/community/">Solid Run (Cubox Mfgr) Forum</a></li>
              <li><a href="http://www.runeaudio.com/forum/">Rune Audio Forum</a></li>
              <li><a href="http://archlinuxarm.org/forum/">Arch Linux ARM Forum</a></li>
              <li><a href="https://www.archlinux.org/">Arch Linux Forum</a></li>
              <li><a href="https://planet.archlinux.org/">Planet Arch Linux</a></li>
              <li><a href="https://bbs.archlinux.org/">Arch Linux BBS</a></li>
            </ul>
            
            <h1 id="log-first-install">Log first install</h1>
            
            <p>First up is where to find the install and instructions.</p>
            
            <ul>
              <li><a href="http://archlinuxarm.org/support/faq">Arch Linux Arm FAQ Page</a></li>
              <li><a href="http://archlinuxarm.org/forum/">Arch Linux Arm Forum</a></li>
            </ul>
            
            <p>Found the Cubox-I on this forum, ARMv7h</p>
            
            <h2 id="install-instructions-herehttparchlinuxarmorgplatformsarmv7freescalecubox-i"><a href="http://archlinuxarm.org/platforms/armv7/freescale/cubox-i">Install instructions here</a></h2>
            
            <p>See the Installation Tab</p>
            
            <h2 id="zero-out-the-first-few-mb-of-the-card-to-remove-any-previous-u-boot-environment">Zero out the first few MB of the card to remove any previous U-Boot environment:</h2>
            
            <pre><code>
            dd if=/dev/zero of=/dev/sdc bs=1M count=4
            </code></pre>
            
            <h2 id="start-fdisk-to-partition-the-sd-card">Start fdisk to partition the SD card:</h2>
            
            <pre><code>
            fdisk /dev/sdc
            </code></pre>
            
            <p>At the fdisk prompt, create the new partitions:</p>
            
            <p>Type n, then p for primary, 1 for the first partition on the drive,
            8192 for the starting sector, and +20M for the ending sector.</p>
            
            <p>Type t to set the type, then c to set it to FAT.</p>
            
            <p>Type n, then p for primary, 2 for the second partition, 49152 for the
            first sector, and press ENTER twice to accept default values.</p>
            
            <p>Exit by typing w.</p>
            
            <h2 id="create-and-mount-the-vfat-filesystem">Create and mount the vfat filesystem:</h2>
            
            <pre><code>
            mkfs.vfat /dev/sdc1
            mkdir /tmp/boot
            mount /dev/sdc1 /tmp/boot
            </code></pre>
            
            <h2 id="create-and-mount-the-ext4-filesystem">Create and mount the ext4 filesystem:</h2>
            
            <pre><code>
            mkfs.ext4 /dev/sdc2
            mkdir /tmp/root
            mount /dev/sdc2 /tmp/root
            </code></pre>
            
            <h2 id="download-and-extract-the-root-filesystem">Download and extract the root filesystem:</h2>
            
            <pre><code>
            cd /mnt/disk2/linux_distros/
            wget http://archlinuxarm.org/os/ArchLinuxARM-imx6-cubox-latest.tar.gz
            tar -xf /mnt/disk2/linux_distros/ArchLinuxARM-imx6-cubox-latest.tar.gz -C /tmp/root
            </code></pre>
            
            <h2 id="move-boot-files-to-the-boot-partition">Move boot files to the boot partition:</h2>
            
            <pre><code>
            mv /tmp/root/boot/* /tmp/boot
            </code></pre>
            
            <h2 id="install-the-u-boot-bootloader">Install the U-Boot bootloader:</h2>
            
            <pre><code>
            dd if=/tmp/boot/SPL of=/dev/sdc bs=512 seek=2
            dd if=/tmp/boot/u-boot.img of=/dev/sdc bs=1K seek=42
            </code></pre>
            
            <h2 id="unmount-the-partitions">Unmount the partitions</h2>
            
            <pre><code>
            sync
            umount /tmp/boot
            umount /tmp/root
            </code></pre>
            
            <h2 id="boot-the-cubox-i">Boot the Cubox-I</h2>
            
            <p>Insert the SD card into the Cubox-i contacts uppermost, connect ethernet,
            and apply 6-12V power.</p>
            
            <p>Use the serial console (CN6 micro USB connector) or SSH to the IP address
            given to the board by your router. The default root password is ‘root’.</p>
          </article>
        </div>
      </div>
    </div>
    <script src='/assets/app.js'></script>
  </body>
</html>

