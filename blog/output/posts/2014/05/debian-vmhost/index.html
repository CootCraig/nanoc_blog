<!DOCTYPE html>
<head>
  <meta charset='utf-8'>
  <title>
    Nanoc Blog
  </title>
  <link href='/stylesheet.css' rel='stylesheet'>
</head>
<body>
  <div id='banner'>
    Cootcraig Public Blog
  </div>
  <div id='main'>
    <div class='post'>
      <h1>Debian Virtualbox Host</h1>
      <div>
        <span>Post tags:</span>
        |
        <span><a href="/tags/debian">debian</a></span>
        |
        <span><a href="/tags/linux">linux</a></span>
        |
        <span><a href="/tags/virtualbox">virtualbox</a></span>
        |
        <span><a href="/tags/vm_host">vm_host</a></span>
        |
      </div>
      <article>
        
        <h1 id="notes-on-setting-up-a-debian-virtualbox-host-for-my-employer">Notes on setting up a Debian Virtualbox host for my employer</h1>
        
        <h2 id="overview">Overview</h2>
        
        <h4 id="virtualboxorg---manualhttpswwwvirtualboxorgmanual"><a href="https://www.virtualbox.org/manual/">virtualbox.org - manual/</a></h4>
        
        <h4 id="blogsoraclecom---new-commercial-license-for-oraclehttpsblogsoraclecomvirtualizationentrynewcommerciallicensefororacle"><a href="https://blogs.oracle.com/virtualization/entry/new_commercial_license_for_oracle">blogs.oracle.com - new commercial license for oracle</a></h4>
        
        <ul>
          <li>Oracle VM VirtualBox Enterprise - Named User Plus - $50 per named user</li>
          <li>Oracleâ€™s standard processor licensing, $1,000 per processor socket</li>
        </ul>
        
        <h1 id="setting-up-the-host-box">Setting up the host box.</h1>
        
        <h1 id="how-to-autostart-vms">How to autostart vms</h1>
        
        <h4 id="forumsvirtualboxorg---start-vms-at-boot-new-in-420httpsforumsvirtualboxorgviewtopicphpf11t51529"><a href="https://forums.virtualbox.org/viewtopic.php?f=11&amp;t=51529">forums.virtualbox.org - Start VMs at boot (new in 4.2.0)</a></h4>
        
        <h4 id="lifeofageekadmin---good-guide-to-setting-up-autostarthttplifeofageekadmincomhow-to-set-your-virtualbox-vm-to-automatically-startup"><a href="http://lifeofageekadmin.com/how-to-set-your-virtualbox-vm-to-automatically-startup/">lifeofageekadmin - Good guide to setting up autostart</a></h4>
        
        <h1 id="log">Log</h1>
        
        <p>First you need to create the file /etc/default/virtualbox and add a
        few variables.</p>
        
        <pre><code>/etc/default/virtualbox
        VBOXAUTOSTART_DB=/etc/vbox
        VBOXAUTOSTART_CONFIG=/etc/vbox/vbox.cfg
        </code></pre>
        
        <p>Create the file /etc/vbox/vbox.cfg
        With one line.</p>
        
        <pre><code>/etc/vbox/vbox.cfg
        default_policy = allow
        </code></pre>
        
        <p>Set permissions on directory to the vboxuser group and make sure users
        can write to the directory as well as sticky bit.</p>
        
        <pre><code>Set permissions and mode on /etc/vbox
        chgrp vboxusers /etc/vbox
        chmod 1775 /etc/vbox
        </code></pre>
        
        <p>Add administrator to the vboxusers group.</p>
        
        <pre><code>Add administrator to the vboxusers group.
        groups administrator
        administrator : administrator sudo
        
        usermod -a -G vboxusers administrator
        
        groups administrator
        administrator : administrator sudo vboxusers
        </code></pre>
        
        <p>Every user who wants to enable autostart for individual machines has to
        set the path to the autostart database directory with</p>
        
        <pre><code>VBoxManage setproperty autostartdbpath /etc/vbox
        </code></pre>
        
        <p>List the vms</p>
        
        <pre><code>
        VBoxManage list vms
        "craigdeb" {0e7bca8b-b552-4ebb-9e39-bb1f6fb19d5c}
        </code></pre>
        
        <pre><code>
        administrator$ VBoxManage modifyvm craigdeb --autostart-enabled on
        </code></pre>
        
        <pre><code>
        root# update-rc.d virtualbox defaults
        </code></pre>
      </article>
    </div>
  </div>
  <div id='sidebar'>
    <ul>
      <li><a href="/">Main</a></li>
      <li><a href="/post_index/">Posts</a></li>
      <li><a href="/tag_index/">Tags</a></li>
    </ul>
  </div>
</body>
